<!DOCTYPE html>
<html lang="pt-pt">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://fonts.googleapis.com/css2?family=Baloo+Paaji+2:wght@500;700&display=swap" rel="stylesheet">
    <link rel="shortchut icon" href="favicon.png" type="image/x-png">
    <link rel="stylesheet" type="text/css" href="css/style.css">
    <title>To Do App</title>
</head>

<body>
    <!--header * start-->
    <header>
        <h1>To Do App</h1>
        <h2>Your Life Organized</h2>
    </header>
    <!--header * end-->
    <!--main * start-->
    <main>
        <div class="formulario">
            <input placeholder="O que pretende adicionar ?" />
            <button>Adicionar</button>
        </div>
        <div>
            <div class="lista">
                <ul>
                </ul>
            </div>
    </main>
    <!--main * end-->
    <!--footer * start-->
    <footer>
        2020
    </footer>
    <!--footer * end-->
    <script>
        var lista = document.querySelector("ul");
        var button = document.querySelector("button");
        var input = document.querySelector("input");

        var items = [
            "Fazer compras",
            "Cortar o cabelo",
            "Fazer trabalhos"
        ]

        function mostrarItems() {
            lista.innerHTML = "";
            for (item of items) {
                var itemLi = document.createElement("li");
                var itemDivTexto = document.createElement("div");
                itemDivTexto.setAttribute("class", "item-texto");
                var itemTexto = document.createTextNode(item);
                itemLi.appendChild(itemDivTexto);
                itemDivTexto.appendChild(itemTexto);
                lista.appendChild(itemLi);

                var removerElemento = document.createElement("div");
                removerElemento.setAttribute("class", "btn-remover");
                var removerTexto = document.createTextNode(" âœ–");
                itemLi.appendChild(removerElemento);
                removerElemento.appendChild(removerTexto);

                var itemPosicao = items.indexOf(item);
                removerElemento.setAttribute("onclick", "removerItem(" + itemPosicao + ")");
            }
        }
        mostrarItems();

        function adicionarItem() {
            var itemTexto = input.value;
            if (itemTexto.length != '') {
                items.push(itemTexto);
                mostrarItems();
                input.value = "";
            } else {
                alert('Escreva qual a tarefa que quer realizar.');
            }
        }

        button.onclick = adicionarItem;

        function removerItem(itemPosicao) {
            items.splice(itemPosicao, 1);
            mostrarItems();
        }
    </script>
</body>

</html>